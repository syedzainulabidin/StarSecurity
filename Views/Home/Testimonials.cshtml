@model List<Testimonial>
@{
    ViewData["Title"] = "Testimonials";
}

<section class="relative pt-20 pb-12 px-8 lg:px-16 text-center overflow-hidden">
    <!-- Background Glows -->
    <div class="absolute top-[-10%] left-[-10%] h-[600px] w-[600px] rounded-full bg-blue-900/10 blur-[120px]"></div>

    <div class="relative z-10">
        <h1 class="text-6xl lg:text-9xl font-anton uppercase tracking-tighter leading-none mb-4">
            What Our <span class="text-stroke" style="-webkit-text-fill-color: transparent;">Clients</span> Say
        </h1>
        <p class="text-blue-500 font-bold text-xl uppercase tracking-widest">Feedback from our elite partners</p>
    </div>
</section>

<!-- Testimonials Grid -->
<section class="relative py-20 px-8 lg:px-16 max-w-7xl mx-auto">
    @if (Model.Any())
    {
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            @foreach (var testimonial in Model)
            {
                <div class="testimonial-card p-10 rounded-[2.5rem] bg-white/5 border border-white/10 flex flex-col justify-between h-full hover:bg-white/10 transition-all duration-300">
                    <div>
                        <!-- Star Rating -->
                        <div class="flex gap-1 mb-6">
                            @for (int i = 0; i < 5; i++)
                            {
                                if (i < testimonial.Rating)
                                {
                                    <svg class="w-5 h-5 text-blue-500 fill-blue-500" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                    </svg>
                                }
                                else
                                {
                                    <svg class="w-5 h-5 text-gray-700" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                    </svg>
                                }
                            }
                        </div>

                        <!-- Testimonial Content -->
                        <p class="text-2xl font-medium leading-relaxed mb-8 italic">
                            "@testimonial.Content"
                        </p>
                    </div>

                    <!-- Client Info -->
                    @{
                        // Different icons for different client IDs - simpler version
                        string svgIcon;
                        var clientIdStr = testimonial.ClientId.ToString() ?? "0";
                        var iconIndex = Math.Abs(clientIdStr.GetHashCode() % 3);

                        svgIcon = iconIndex switch
                        {
                            0 => @"<path d='M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z'/>",
                            1 => @"<path d='M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2'/><circle cx='9' cy='7' r='4'/><path d='M23 21v-2a4 4 0 0 0-3-3.87'/><path d='M16 3.13a4 4 0 0 1 0 7.75'/>",
                            _ => @"<path d='M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z'/>"
                        };
                    }
                </div>
            }
        </div>
    }
    else
    {
        <!-- Empty State -->
        <div class="text-center py-20">
            <div class="w-24 h-24 mx-auto rounded-full bg-white/5 flex items-center justify-center mb-6">
                <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-300 mb-2">No Testimonials Yet</h3>
            <p class="text-gray-400">Be the first to share your experience with our services.</p>
        </div>
    }
</section>

<!-- Call to Action -->
<section class="max-w-7xl mx-auto px-8 lg:px-16 pb-32">
    <div class="relative bg-blue-600 rounded-[3rem] p-12 lg:p-20 overflow-hidden group text-center">
        <div class="absolute top-0 right-0 p-8 opacity-20">
            <svg class="w-64 h-64 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
            </svg>
        </div>
        <div class="relative z-10">
            <h2 class="text-5xl lg:text-7xl font-anton uppercase tracking-tighter mb-6">Share Your Experience</h2>
            <p class="text-white/80 text-xl font-bold uppercase tracking-widest max-w-xl mx-auto mb-8">
                Tell us about your security journey with our services
            </p>
            <a href="/contact" class="inline-block bg-white text-blue-600 px-12 py-5 rounded-2xl text-xl font-black uppercase tracking-tighter hover:bg-[#020617] hover:text-white transition-all duration-300 shadow-xl shadow-black/20">
                Share Feedback
            </a>
        </div>
    </div>
</section>

<style>
    .text-stroke {
        -webkit-text-stroke: 1px rgba(255, 255, 255, 0.3);
    }

    .testimonial-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .group:hover .group-hover\:bg-\[\#020617\] {
        background: #020617;
    }
</style>